<% # Form for status creation %>

<div class="row">
  <div class="col-3"></div>
  <div class="col-6">
    <%= form_with model: @status, local: true do |f| %>
      <div id="message_container" class="mb-3">
        <%= f.label :message, class: 'form-label' %>
        <%= f.text_field :message, class: "form-control#{' is-invalid' if @status.errors[:message].any?}", 'aria-described-by': 'message_feedback' %>

        <% if @status.errors[:message].any? %>
          <div id="message_feedback" class="invalid-feedback">
            <%= @status.errors.full_messages_for(:message).join('<br>') %>
          </div>
        <% end %>
      </div>

      <div id="status_container" class="mb-3">
        <%= f.label :status, class: 'form-label' %>
        <%= f.select :status, StatusMessage.statuses.keys, {}, class: "form-select#{' is-invalid' if @status.errors[:status].any?}", 'aria-described-by': 'status_feedback' %>

        <% if @status.errors[:status].any? %>
          <div id="status_feedback" class="invalid-feedback">
            <%= @status.errors.full_messages_for(:status).join('<br>') %>
          </div>
        <% end %>
      </div>

      <%= f.button :submit, class: 'btn btn-primary' %>
    <% end %>
  </div>
  <div class="col-3"></div>
</div>
